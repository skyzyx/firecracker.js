var s=(d,n)=>()=>(n||d((n={exports:{}}).exports,n),n.exports);var f=s((p,r)=>{class i{constructor(n){this.node=n}get(){return this.node}ancestor(n){return n=n||"",n===""?this.parent():new i(this.node.closest(n))}parent(){return this.node.parentNode?new i(this.node.parentNode):null}descendants(n){return n=n||"",n===""?this.children():new o(n,this.node)}children(n){return n=n||"",Array.from(this.node.childNodes).filter(e=>e.nodeType===Node.ELEMENT_NODE).filter(e=>n!==""&&e.matches(n)||n==="").map(e=>new i(e))}siblings(n){if(n=n||"",!this.node.parentNode)return[];let e=this.node.parentNode.firstChild;const t=[];for(;e;)e!==this.node&&e.nodeType===Node.ELEMENT_NODE&&(n!==""&&e.matches(n)||n==="")&&t.push(new i(e)),e=e.nextSibling;return t}next(n){n=n||"";let e=this.node.nextSibling;for(;e;){if(e.nodeType===Node.ELEMENT_NODE&&(n!==""&&e.matches(n)||n===""))return new i(e);e=e.nextSibling}return null}prev(n){n=n||"";let e=this.node.previousSibling;for(;e;){if(e.nodeType===Node.ELEMENT_NODE&&(n!==""&&e.matches(n)||n===""))return new i(e);e=e.previousSibling}return null}prepend(n){return typeof n.dom!="undefined"?this.node.insertAdjacentElement("afterbegin",n.dom()):this.node.insertAdjacentElement("afterbegin",n),new i(this.node.childNodes[0])}append(n){return typeof n.dom!="undefined"?this.node.insertAdjacentElement("beforeend",n.dom()):this.node.insertAdjacentElement("beforeend",n),new i(this.node.childNodes[this.node.childNodes.length-1])}before(n){return typeof n.dom!="undefined"?this.node.before(n.dom()):this.node.before(n),this.prev()}after(n){return typeof n.dom!="undefined"?this.node.after(n.dom()):this.node.after(n),this.next()}on(n,e){const t=this.node;return t.addEventListener(n,e,{once:!1}),{remove:function(){t.removeEventListener(n,e,{once:!1})}}}}const o=function(d,n){if(d instanceof Element)return new i(d);const e=[];return n=n||document,n===document?(document.querySelectorAll(d).forEach(t=>{e.push(new i(t))}),e):(d=[":scope",d].join(" "),typeof n[Symbol.iterator]!="function"&&(n=[n]),n.forEach(t=>{t.querySelectorAll(d).forEach(h=>{e.push(new i(h))})}),e)};r.exports=o});export default f();

//# sourceMappingURL=dquery.js.map

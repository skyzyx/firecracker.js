{"mappings":"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","sources":["dist/vdom.js"],"sourcesContent":["function $parcel$defineInteropFlag(a) {\n  Object.defineProperty(a, '__esModule', {value: true, configurable: true});\n}\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n$parcel$defineInteropFlag(module.exports);\n\n$parcel$export(module.exports, \"default\", () => $d0e0ac82cf77fdb6$export$2e2bcd8739ae039);\n// VDOM is an updated ES6+ version of a Virtual DOM implementation I built in\n// 2008 before Virtual DOM even had a name yet.\n//\n// The term “Virtual DOM” refers to real DOM nodes that exist in memory, but are\n// not attached to the _live_ tree. This means that they can be modified and\n// manipulated in-memory without triggering repaints and reflows in the browser\n// engine, making modifications dramatically faster.\n//\n// By leveraging `DocumentFragment` objects under the hood, we can collect one\n// or more sibling elements together which do not have a shared parent node\n// until they are injected into the live DOM. This is fundamentally the same way\n// that `React.createElement()` works, and the syntax is very similar.\n//\n// **Examples:**\n//\n// From the <https://reactjs.org> homepage, this example generates a new DOM\n// element and appends it to the live DOM.\n//\n// ```javascript\n// class HelloMessage extends React.Component {\n//   render() {\n//     return (\n//       <div>\n//         Hello {this.props.name}\n//       </div>\n//     );\n//     // or...\n//     // return React.createElement(\n//     //   \"div\",\n//     //   null,\n//     //   \"Hello \",\n//     //   this.props.name\n//     // );\n//   }\n// }\n//\n// ReactDOM.render(\n//   React.createElement(\n//     HelloMessage, { name: \"Taylor\" }\n//   ),\n//   document.getElementById('hello-example')\n// );\n// ```\n//\n// Here's a (roughly) equivalent example using VDOM, except that there are no\n// _magical_ `props` because there are no `components`. Just standard functions\n// and variables.\n//\n// ```javascript\n// const _ = VDOM,\n//       $ = DQuery;\n//\n// function HelloMessage(props) {\n//   return `\n//     <div>\n//       Hello ${props.name}\n//     </div>\n//   `;\n//   // or...\n//   // return _('div').h(`Hello ${props.name}`);\n// }\n//\n// $('#hello-example')[0].append(\n//   HelloMessage({ name: \"Taylor\" })\n// );\n// ```\n//\n// VDOM sits much “closer to the metal”, which makes it (a) faster, and (b)\n// smaller. While it lacks some of the niceties like JSX, you can still use\n// `innerHTML` which gets you _most_ of the way there at very little cost.\n//\n// ----\nconst $d0e0ac82cf77fdb6$var$X = function(elem, attr) {\n    const self = this, RE_ID_OR_CLASS = /[\\.#]/u, RE_CSS_ATTRS = /\\[([^\\]]+)\\]/gu, ARR_NEXT = 1;\n    let key, k, match;\n    attr = attr || {\n    };\n    // Parse the CSS-style notation.\n    function notation() {\n        const att = {\n            class: [],\n            id: ''\n        }, kvPair = [];\n        if (!RE_ID_OR_CLASS.test(elem) && !RE_CSS_ATTRS.test(elem)) return {\n        };\n        // Collect all of the `[k=v]` blocks.\n        while((match = RE_CSS_ATTRS.exec(elem)) !== null)kvPair.push(match[1].split('='));\n        elem = elem.replace(RE_CSS_ATTRS, '');\n        const pieces = elem.split(RE_ID_OR_CLASS), elemType = pieces.shift();\n        kvPair.forEach((val, idx, arr)=>{\n            att[arr[idx][0]] = arr[idx][1];\n        });\n        // Support CSS/jQuery-style notation for generating elements with IDs and classnames.\n        let pos = elemType.length;\n        const classes = att['class'];\n        pieces.forEach((val, idx, arr)=>{\n            if (elem[pos] === '#') att.id = val;\n            else classes.push(val);\n            pos += arr[idx].length + ARR_NEXT;\n        });\n        att['class'] = classes;\n        if (!att['class'].length) delete att['class'];\n        if (att['id'] === '') delete att['id'];\n        return att;\n    }\n    // Merge options into a conglomo-hash!\n    attr = Object.assign(attr, notation());\n    // Construct the element, loop through the list of attributes and add them to the node.\n    if (RE_ID_OR_CLASS.test(elem)) self.e = document.createElement(elem.split(RE_ID_OR_CLASS).shift());\n    else self.e = document.createElement(elem);\n    if (attr) {\n        for(key in attr)if (Object.prototype.hasOwnProperty.call(attr, key)) {\n            if (typeof attr[key] === 'object' && typeof attr[key].length === 'number' && typeof attr[key].splice === 'function') attr[key] = attr[key].join(' ');\n            if (key.toString() === 'class') self.e.className = attr[key];\n            else if (key.toString() === 'data') {\n                for(k in attr[key])if (Object.prototype.hasOwnProperty.call(attr[key], k)) self.e.setAttribute(`data-${k}`, attr[key][k]);\n            } else self.e.setAttribute(key, attr[key]);\n        }\n    }\n    // Handle child nodes.\n    self._ = (obj)=>{\n        // If the object isn't an array, convert it to an array to maintain a single codepath below.\n        if (!Array.isArray(obj)) obj = [\n            obj\n        ];\n        // Loop through the indexed array of children. If the node is a `VDOM` object, convert it to\n        // DOM and append it. Otherwise, assume it's a real DOM node.\n        for(let i = 0, max = obj.length; i < max; i++){\n            if (typeof obj[i] === 'undefined') break;\n            if (typeof obj[i].dom !== 'undefined') self.e.appendChild(obj[i].dom());\n            else self.e.appendChild(obj[i]);\n        }\n        return self;\n    };\n    // Set the HTML\n    self.h = (str, replace)=>{\n        // Determine the default value for `replace`.\n        replace = replace || false;\n        // Set the value with innerHTML.\n        if (replace) self.e.innerHTML = str;\n        else self.e.innerHTML += str;\n        return self;\n    };\n    // Set the text\n    self.t = (str)=>{\n        // No parameters? Read the value instead. Alias for __t().\n        if (typeof str === 'undefined') return self.__t();\n        // Set the value\n        const text = document.createTextNode(str);\n        self.e.appendChild(text);\n        return self;\n    };\n    // Get DOMElement\n    self.dom = ()=>self.e\n    ;\n    // Get as HTML\n    self.toString = ()=>{\n        const t = document.createElement('div');\n        t.appendChild(self.e);\n        return t.innerHTML;\n    };\n    // Get as text\n    self.__t = ()=>{\n        const t = document.createElement('div');\n        t.appendChild(self.e);\n        return t.textContent || t.innerText;\n    };\n    return self;\n}, // Pre-instantiate the class on each call so that you never need to use `new`.\n$d0e0ac82cf77fdb6$var$VDOM = (elem, attr)=>new $d0e0ac82cf77fdb6$var$X(elem, attr)\n; // eslint-disable-line no-undef\n$d0e0ac82cf77fdb6$var$VDOM.DOM = (...nodes)=>{\n    // Create a document fragment. Grab and loop through the in-memory DOM nodes,\n    // and _move_ them to the `DocumentFragment`.\n    const f = document.createDocumentFragment(), n = new $d0e0ac82cf77fdb6$var$X('div')._(nodes).dom().childNodes;\n    while(n.length)f.appendChild(n[0]);\n    return f;\n};\n$d0e0ac82cf77fdb6$var$VDOM.t = (str)=>document.createTextNode(str)\n; // eslint-disable-line no-undef\n$d0e0ac82cf77fdb6$var$VDOM.h = (str)=>{\n    const f = document.createDocumentFragment(), n = new $d0e0ac82cf77fdb6$var$X('div').h(str).dom().childNodes;\n    while(n.length)f.appendChild(n[0]);\n    return f;\n};\nvar // Default export for the package.\n$d0e0ac82cf77fdb6$export$2e2bcd8739ae039 = $d0e0ac82cf77fdb6$var$VDOM;\n\n\n//# sourceMappingURL=vdom.js.map\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,data:application/json;charset=utf-8;base64,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QUFDLEdBQUcsUUFBUSxDQUFDLHNCQUFzQixJQUN2QyxDQUFDLEdBQUcsR0FBRyxDQUFDLHVCQUFDLENBQUMsQ0FBSyxNQUFFLENBQUMsQ0FBQyxHQUFHLEVBQ3BCLEdBQUcsR0FBRyxVQUFVO1VBRWIsQ0FBQyxDQUFDLE1BQU0sQ0FDYixDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBR25CLE1BQU0sQ0FBQyxDQUFDO0FBQ1YsQ0FBQztJQUVELEVBQWtDLEFBQWxDLGdDQUFrQztBQUNsQyx3Q0FBb0IsR0FBTCwwQkFBSSIsInNvdXJjZXMiOlsic3JjL3Zkb20uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVkRPTSBpcyBhbiB1cGRhdGVkIEVTNisgdmVyc2lvbiBvZiBhIFZpcnR1YWwgRE9NIGltcGxlbWVudGF0aW9uIEkgYnVpbHQgaW5cbi8vIDIwMDggYmVmb3JlIFZpcnR1YWwgRE9NIGV2ZW4gaGFkIGEgbmFtZSB5ZXQuXG4vL1xuLy8gVGhlIHRlcm0g4oCcVmlydHVhbCBET03igJ0gcmVmZXJzIHRvIHJlYWwgRE9NIG5vZGVzIHRoYXQgZXhpc3QgaW4gbWVtb3J5LCBidXQgYXJlXG4vLyBub3QgYXR0YWNoZWQgdG8gdGhlIF9saXZlXyB0cmVlLiBUaGlzIG1lYW5zIHRoYXQgdGhleSBjYW4gYmUgbW9kaWZpZWQgYW5kXG4vLyBtYW5pcHVsYXRlZCBpbi1tZW1vcnkgd2l0aG91dCB0cmlnZ2VyaW5nIHJlcGFpbnRzIGFuZCByZWZsb3dzIGluIHRoZSBicm93c2VyXG4vLyBlbmdpbmUsIG1ha2luZyBtb2RpZmljYXRpb25zIGRyYW1hdGljYWxseSBmYXN0ZXIuXG4vL1xuLy8gQnkgbGV2ZXJhZ2luZyBgRG9jdW1lbnRGcmFnbWVudGAgb2JqZWN0cyB1bmRlciB0aGUgaG9vZCwgd2UgY2FuIGNvbGxlY3Qgb25lXG4vLyBvciBtb3JlIHNpYmxpbmcgZWxlbWVudHMgdG9nZXRoZXIgd2hpY2ggZG8gbm90IGhhdmUgYSBzaGFyZWQgcGFyZW50IG5vZGVcbi8vIHVudGlsIHRoZXkgYXJlIGluamVjdGVkIGludG8gdGhlIGxpdmUgRE9NLiBUaGlzIGlzIGZ1bmRhbWVudGFsbHkgdGhlIHNhbWUgd2F5XG4vLyB0aGF0IGBSZWFjdC5jcmVhdGVFbGVtZW50KClgIHdvcmtzLCBhbmQgdGhlIHN5bnRheCBpcyB2ZXJ5IHNpbWlsYXIuXG4vL1xuLy8gKipFeGFtcGxlczoqKlxuLy9cbi8vIEZyb20gdGhlIDxodHRwczovL3JlYWN0anMub3JnPiBob21lcGFnZSwgdGhpcyBleGFtcGxlIGdlbmVyYXRlcyBhIG5ldyBET01cbi8vIGVsZW1lbnQgYW5kIGFwcGVuZHMgaXQgdG8gdGhlIGxpdmUgRE9NLlxuLy9cbi8vIGBgYGphdmFzY3JpcHRcbi8vIGNsYXNzIEhlbGxvTWVzc2FnZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4vLyAgIHJlbmRlcigpIHtcbi8vICAgICByZXR1cm4gKFxuLy8gICAgICAgPGRpdj5cbi8vICAgICAgICAgSGVsbG8ge3RoaXMucHJvcHMubmFtZX1cbi8vICAgICAgIDwvZGl2PlxuLy8gICAgICk7XG4vLyAgICAgLy8gb3IuLi5cbi8vICAgICAvLyByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbi8vICAgICAvLyAgIFwiZGl2XCIsXG4vLyAgICAgLy8gICBudWxsLFxuLy8gICAgIC8vICAgXCJIZWxsbyBcIixcbi8vICAgICAvLyAgIHRoaXMucHJvcHMubmFtZVxuLy8gICAgIC8vICk7XG4vLyAgIH1cbi8vIH1cbi8vXG4vLyBSZWFjdERPTS5yZW5kZXIoXG4vLyAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4vLyAgICAgSGVsbG9NZXNzYWdlLCB7IG5hbWU6IFwiVGF5bG9yXCIgfVxuLy8gICApLFxuLy8gICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGVsbG8tZXhhbXBsZScpXG4vLyApO1xuLy8gYGBgXG4vL1xuLy8gSGVyZSdzIGEgKHJvdWdobHkpIGVxdWl2YWxlbnQgZXhhbXBsZSB1c2luZyBWRE9NLCBleGNlcHQgdGhhdCB0aGVyZSBhcmUgbm9cbi8vIF9tYWdpY2FsXyBgcHJvcHNgIGJlY2F1c2UgdGhlcmUgYXJlIG5vIGBjb21wb25lbnRzYC4gSnVzdCBzdGFuZGFyZCBmdW5jdGlvbnNcbi8vIGFuZCB2YXJpYWJsZXMuXG4vL1xuLy8gYGBgamF2YXNjcmlwdFxuLy8gY29uc3QgXyA9IFZET00sXG4vLyAgICAgICAkID0gRFF1ZXJ5O1xuLy9cbi8vIGZ1bmN0aW9uIEhlbGxvTWVzc2FnZShwcm9wcykge1xuLy8gICByZXR1cm4gYFxuLy8gICAgIDxkaXY+XG4vLyAgICAgICBIZWxsbyAke3Byb3BzLm5hbWV9XG4vLyAgICAgPC9kaXY+XG4vLyAgIGA7XG4vLyAgIC8vIG9yLi4uXG4vLyAgIC8vIHJldHVybiBfKCdkaXYnKS5oKGBIZWxsbyAke3Byb3BzLm5hbWV9YCk7XG4vLyB9XG4vL1xuLy8gJCgnI2hlbGxvLWV4YW1wbGUnKVswXS5hcHBlbmQoXG4vLyAgIEhlbGxvTWVzc2FnZSh7IG5hbWU6IFwiVGF5bG9yXCIgfSlcbi8vICk7XG4vLyBgYGBcbi8vXG4vLyBWRE9NIHNpdHMgbXVjaCDigJxjbG9zZXIgdG8gdGhlIG1ldGFs4oCdLCB3aGljaCBtYWtlcyBpdCAoYSkgZmFzdGVyLCBhbmQgKGIpXG4vLyBzbWFsbGVyLiBXaGlsZSBpdCBsYWNrcyBzb21lIG9mIHRoZSBuaWNldGllcyBsaWtlIEpTWCwgeW91IGNhbiBzdGlsbCB1c2Vcbi8vIGBpbm5lckhUTUxgIHdoaWNoIGdldHMgeW91IF9tb3N0XyBvZiB0aGUgd2F5IHRoZXJlIGF0IHZlcnkgbGl0dGxlIGNvc3QuXG4vL1xuLy8gLS0tLVxuXG5jb25zdCBYID0gZnVuY3Rpb24oZWxlbSwgYXR0cikge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzLFxuICAgICAgUkVfSURfT1JfQ0xBU1MgPSAvW1xcLiNdL3UsIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdXNlbGVzcy1lc2NhcGVcbiAgICAgIFJFX0NTU19BVFRSUyA9IC9cXFsoW15cXF1dKylcXF0vZ3UsXG4gICAgICBBUlJfTkVYVCA9IDE7XG5cbiAgICBsZXQga2V5LCBrLCBtYXRjaDtcblxuICAgIGF0dHIgPSBhdHRyIHx8IHt9O1xuXG4gICAgLy8gUGFyc2UgdGhlIENTUy1zdHlsZSBub3RhdGlvbi5cbiAgICBmdW5jdGlvbiBub3RhdGlvbigpIHtcbiAgICAgIGNvbnN0IGF0dCA9IHtcbiAgICAgICAgICBjbGFzczogW10sXG4gICAgICAgICAgaWQ6ICcnLFxuICAgICAgICB9LFxuICAgICAgICBrdlBhaXIgPSBbXTtcblxuICAgICAgaWYgKCFSRV9JRF9PUl9DTEFTUy50ZXN0KGVsZW0pICYmICFSRV9DU1NfQVRUUlMudGVzdChlbGVtKSkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG5cbiAgICAgIC8vIENvbGxlY3QgYWxsIG9mIHRoZSBgW2s9dl1gIGJsb2Nrcy5cbiAgICAgIHdoaWxlICgobWF0Y2ggPSBSRV9DU1NfQVRUUlMuZXhlYyhlbGVtKSkgIT09IG51bGwpIHtcbiAgICAgICAga3ZQYWlyLnB1c2gobWF0Y2hbMV0uc3BsaXQoJz0nKSk7XG4gICAgICB9XG5cbiAgICAgIGVsZW0gPSBlbGVtLnJlcGxhY2UoUkVfQ1NTX0FUVFJTLCAnJyk7XG4gICAgICBjb25zdCBwaWVjZXMgPSBlbGVtLnNwbGl0KFJFX0lEX09SX0NMQVNTKSxcbiAgICAgICAgZWxlbVR5cGUgPSBwaWVjZXMuc2hpZnQoKTtcblxuICAgICAga3ZQYWlyLmZvckVhY2goKHZhbCwgaWR4LCBhcnIpID0+IHtcbiAgICAgICAgYXR0W2FycltpZHhdWzBdXSA9IGFycltpZHhdWzFdO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFN1cHBvcnQgQ1NTL2pRdWVyeS1zdHlsZSBub3RhdGlvbiBmb3IgZ2VuZXJhdGluZyBlbGVtZW50cyB3aXRoIElEcyBhbmQgY2xhc3NuYW1lcy5cbiAgICAgIGxldCBwb3MgPSBlbGVtVHlwZS5sZW5ndGg7XG4gICAgICBjb25zdCBjbGFzc2VzID0gYXR0WydjbGFzcyddO1xuXG4gICAgICBwaWVjZXMuZm9yRWFjaCgodmFsLCBpZHgsIGFycikgPT4ge1xuICAgICAgICBpZiAoZWxlbVtwb3NdID09PSAnIycpIHtcbiAgICAgICAgICBhdHQuaWQgPSB2YWw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2xhc3Nlcy5wdXNoKHZhbCk7XG4gICAgICAgIH1cblxuICAgICAgICBwb3MgKz0gYXJyW2lkeF0ubGVuZ3RoICsgQVJSX05FWFQ7XG4gICAgICB9KTtcblxuICAgICAgYXR0WydjbGFzcyddID0gY2xhc3NlcztcbiAgICAgIGlmICghYXR0WydjbGFzcyddLmxlbmd0aCkge1xuICAgICAgICBkZWxldGUgYXR0WydjbGFzcyddO1xuICAgICAgfVxuXG4gICAgICBpZiAoYXR0WydpZCddID09PSAnJykge1xuICAgICAgICBkZWxldGUgYXR0WydpZCddO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYXR0O1xuICAgIH1cblxuICAgIC8vIE1lcmdlIG9wdGlvbnMgaW50byBhIGNvbmdsb21vLWhhc2ghXG4gICAgYXR0ciA9IE9iamVjdC5hc3NpZ24oYXR0ciwgbm90YXRpb24oKSk7XG5cbiAgICAvLyBDb25zdHJ1Y3QgdGhlIGVsZW1lbnQsIGxvb3AgdGhyb3VnaCB0aGUgbGlzdCBvZiBhdHRyaWJ1dGVzIGFuZCBhZGQgdGhlbSB0byB0aGUgbm9kZS5cbiAgICBpZiAoUkVfSURfT1JfQ0xBU1MudGVzdChlbGVtKSkge1xuICAgICAgc2VsZi5lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChlbGVtLnNwbGl0KFJFX0lEX09SX0NMQVNTKS5zaGlmdCgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZi5lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChlbGVtKTtcbiAgICB9XG5cbiAgICBpZiAoYXR0cikge1xuICAgICAgZm9yIChrZXkgaW4gYXR0cikge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGF0dHIsIGtleSkpIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB0eXBlb2YgYXR0cltrZXldID09PSAnb2JqZWN0J1xuICAgICAgICAgICYmIHR5cGVvZiBhdHRyW2tleV0ubGVuZ3RoID09PSAnbnVtYmVyJ1xuICAgICAgICAgICYmIHR5cGVvZiBhdHRyW2tleV0uc3BsaWNlID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBhdHRyW2tleV0gPSBhdHRyW2tleV0uam9pbignICcpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChrZXkudG9TdHJpbmcoKSA9PT0gJ2NsYXNzJykge1xuICAgICAgICAgICAgc2VsZi5lLmNsYXNzTmFtZSA9IGF0dHJba2V5XTtcblxuICAgICAgICAgIC8vIFN1cHBvcnQgYGRhdGE6IHt9YCBmb3IgZGF0YSBhdHRyaWJ1dGVzXG4gICAgICAgICAgfSBlbHNlIGlmIChrZXkudG9TdHJpbmcoKSA9PT0gJ2RhdGEnKSB7XG4gICAgICAgICAgICBmb3IgKGsgaW4gYXR0cltrZXldKSB7XG4gICAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXR0cltrZXldLCBrKSkge1xuICAgICAgICAgICAgICAgIHNlbGYuZS5zZXRBdHRyaWJ1dGUoYGRhdGEtJHsgayB9YCwgYXR0cltrZXldW2tdKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZWxmLmUuc2V0QXR0cmlidXRlKGtleSwgYXR0cltrZXldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgY2hpbGQgbm9kZXMuXG4gICAgc2VsZi5fID0gKG9iaikgPT4ge1xuICAgIC8vIElmIHRoZSBvYmplY3QgaXNuJ3QgYW4gYXJyYXksIGNvbnZlcnQgaXQgdG8gYW4gYXJyYXkgdG8gbWFpbnRhaW4gYSBzaW5nbGUgY29kZXBhdGggYmVsb3cuXG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgICBvYmogPSBbb2JqXTtcbiAgICAgIH1cblxuICAgICAgLy8gTG9vcCB0aHJvdWdoIHRoZSBpbmRleGVkIGFycmF5IG9mIGNoaWxkcmVuLiBJZiB0aGUgbm9kZSBpcyBhIGBWRE9NYCBvYmplY3QsIGNvbnZlcnQgaXQgdG9cbiAgICAgIC8vIERPTSBhbmQgYXBwZW5kIGl0LiBPdGhlcndpc2UsIGFzc3VtZSBpdCdzIGEgcmVhbCBET00gbm9kZS5cbiAgICAgIGZvciAobGV0IGkgPSAwLCBtYXggPSBvYmoubGVuZ3RoOyBpIDwgbWF4OyBpICsrKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JqW2ldID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBvYmpbaV0uZG9tICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHNlbGYuZS5hcHBlbmRDaGlsZChvYmpbaV0uZG9tKCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYuZS5hcHBlbmRDaGlsZChvYmpbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH07XG5cbiAgICAvLyBTZXQgdGhlIEhUTUxcbiAgICBzZWxmLmggPSAoc3RyLCByZXBsYWNlKSA9PiB7XG4gICAgLy8gRGV0ZXJtaW5lIHRoZSBkZWZhdWx0IHZhbHVlIGZvciBgcmVwbGFjZWAuXG4gICAgICByZXBsYWNlID0gcmVwbGFjZSB8fCBmYWxzZTtcblxuICAgICAgLy8gU2V0IHRoZSB2YWx1ZSB3aXRoIGlubmVySFRNTC5cbiAgICAgIGlmIChyZXBsYWNlKSB7XG4gICAgICAgIHNlbGYuZS5pbm5lckhUTUwgPSBzdHI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWxmLmUuaW5uZXJIVE1MICs9IHN0cjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfTtcblxuICAgIC8vIFNldCB0aGUgdGV4dFxuICAgIHNlbGYudCA9IChzdHIpID0+IHtcbiAgICAvLyBObyBwYXJhbWV0ZXJzPyBSZWFkIHRoZSB2YWx1ZSBpbnN0ZWFkLiBBbGlhcyBmb3IgX190KCkuXG4gICAgICBpZiAodHlwZW9mIHN0ciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuX190KCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFNldCB0aGUgdmFsdWVcbiAgICAgIGNvbnN0IHRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShzdHIpO1xuXG4gICAgICBzZWxmLmUuYXBwZW5kQ2hpbGQodGV4dCk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH07XG5cbiAgICAvLyBHZXQgRE9NRWxlbWVudFxuICAgIHNlbGYuZG9tID0gKCkgPT4gc2VsZi5lO1xuXG4gICAgLy8gR2V0IGFzIEhUTUxcbiAgICBzZWxmLnRvU3RyaW5nID0gKCkgPT4ge1xuICAgICAgY29uc3QgdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICB0LmFwcGVuZENoaWxkKHNlbGYuZSk7XG5cbiAgICAgIHJldHVybiB0LmlubmVySFRNTDtcbiAgICB9O1xuXG4gICAgLy8gR2V0IGFzIHRleHRcbiAgICBzZWxmLl9fdCA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICAgdC5hcHBlbmRDaGlsZChzZWxmLmUpO1xuXG4gICAgICByZXR1cm4gdC50ZXh0Q29udGVudCB8fCB0LmlubmVyVGV4dDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHNlbGY7XG4gIH0sXG5cbiAgLy8gUHJlLWluc3RhbnRpYXRlIHRoZSBjbGFzcyBvbiBlYWNoIGNhbGwgc28gdGhhdCB5b3UgbmV2ZXIgbmVlZCB0byB1c2UgYG5ld2AuXG4gIFZET00gPSAoZWxlbSwgYXR0cikgPT4gbmV3IFgoZWxlbSwgYXR0cik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcblxuVkRPTS5ET00gPSAoLi4ubm9kZXMpID0+IHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuICAvLyBDcmVhdGUgYSBkb2N1bWVudCBmcmFnbWVudC4gR3JhYiBhbmQgbG9vcCB0aHJvdWdoIHRoZSBpbi1tZW1vcnkgRE9NIG5vZGVzLFxuICAvLyBhbmQgX21vdmVfIHRoZW0gdG8gdGhlIGBEb2N1bWVudEZyYWdtZW50YC5cbiAgY29uc3QgZiA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxcbiAgICBuID0gbmV3IFgoJ2RpdicpLl8obm9kZXMpLlxuICAgICAgZG9tKCkuY2hpbGROb2RlcztcblxuICB3aGlsZSAobi5sZW5ndGgpIHtcbiAgICBmLmFwcGVuZENoaWxkKG5bMF0pO1xuICB9XG5cbiAgcmV0dXJuIGY7XG59O1xuXG5WRE9NLnQgPSBzdHIgPT4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoc3RyKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuXG5WRE9NLmggPSAoc3RyKSA9PiB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcbiAgY29uc3QgZiA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxcbiAgICBuID0gbmV3IFgoJ2RpdicpLmgoc3RyKS5cbiAgICAgIGRvbSgpLmNoaWxkTm9kZXM7XG5cbiAgd2hpbGUgKG4ubGVuZ3RoKSB7XG4gICAgZi5hcHBlbmRDaGlsZChuWzBdKTtcbiAgfVxuXG4gIHJldHVybiBmO1xufTtcblxuLy8gRGVmYXVsdCBleHBvcnQgZm9yIHRoZSBwYWNrYWdlLlxuZXhwb3J0IGRlZmF1bHQgVkRPTTtcbiJdLCJuYW1lcyI6W10sInZlcnNpb24iOjMsImZpbGUiOiIuL2Rpc3QvdmRvbS5qcy5tYXAifQ=="],"names":[],"version":3,"file":"vdom.js.map","sourceRoot":"../"}
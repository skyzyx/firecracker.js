{"mappings":"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","sources":["dist/index.js"],"sourcesContent":["function $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\nfunction $parcel$defineInteropFlag(a) {\n  Object.defineProperty(a, '__esModule', {value: true, configurable: true});\n}\n\n$parcel$export(module.exports, \"VERSION\", () => $690703a408b303b8$export$a4ad2735b021c132);\n$parcel$export(module.exports, \"DQuery\", () => $d06b2385a2707aa5$export$2e2bcd8739ae039);\n$parcel$export(module.exports, \"Delegate\", () => $2d9f69bafd62bfe5$export$2e2bcd8739ae039);\n$parcel$export(module.exports, \"VDOM\", () => $d0e0ac82cf77fdb6$export$2e2bcd8739ae039);\nvar $d06b2385a2707aa5$exports = {};\n\n$parcel$defineInteropFlag($d06b2385a2707aa5$exports);\n\n$parcel$export($d06b2385a2707aa5$exports, \"default\", () => $d06b2385a2707aa5$export$2e2bcd8739ae039);\nclass $d06b2385a2707aa5$var$DQueryNode {\n    /**\n   * DQueryNode wraps DOM Element objects with enhanced functionality.\n   *\n   * @param {Element} node A DOM Element object, which represents an HTML tag.\n   */ constructor(node){\n        this.node = node;\n    }\n    /**\n   * Gets the underlying native DOM Element object.\n   *\n   * @returns Element\n   */ get() {\n        return this.node;\n    }\n    /**\n   * Gets the nearest ancestor which matches a selector. If no selector is\n   * given, returns parent.\n   *\n   * @param {string} selector (Optional) CSS selector to match, if any.\n   * @returns DQueryNode\n   */ ancestor(selector) {\n        selector = selector || '';\n        if (selector === '') return this.parent();\n        return new $d06b2385a2707aa5$var$DQueryNode(this.node.closest(selector));\n    }\n    /**\n   * Gets the immediate parent element.\n   *\n   * @returns DQueryNode\n   */ parent() {\n        if (!this.node.parentNode) return null;\n        return new $d06b2385a2707aa5$var$DQueryNode(this.node.parentNode);\n    }\n    /**\n   * Gets all descendants which match a selector. If no selector is given,\n   * returns children.\n   *\n   * @param {string} selector (Optional) CSS selector to match, if any.\n   * @returns DQuery\n   */ descendants(selector) {\n        selector = selector || '';\n        if (selector === '') return this.children();\n        return new $d06b2385a2707aa5$var$DQuery(selector, this.node); // eslint-disable-line no-undef\n    }\n    /**\n   * Gets all immediate children which match a selector.\n   *\n   * @param {string} selector (Optional) CSS selector to match, if any.\n   * @returns []DQueryNode\n   */ children(selector) {\n        selector = selector || '';\n        return Array.from(this.node.childNodes).filter((e)=>e.nodeType === Node.ELEMENT_NODE\n        ).filter((e)=>selector !== '' && e.matches(selector) || selector === ''\n        ).map((e)=>new $d06b2385a2707aa5$var$DQueryNode(e)\n        );\n    }\n    /**\n   * Gets all sibling elements of the immediate parent which match a selector.\n   *\n   * @param {string} selector (Optional) CSS selector to match, if any.\n   * @returns []DQueryNode\n   */ siblings(selector) {\n        selector = selector || '';\n        if (!this.node.parentNode) return [];\n        let sibling = this.node.parentNode.firstChild;\n        const siblings = [];\n        while(sibling){\n            if (sibling !== this.node) {\n                if (sibling.nodeType === Node.ELEMENT_NODE && (selector !== '' && sibling.matches(selector) || selector === '')) siblings.push(new $d06b2385a2707aa5$var$DQueryNode(sibling));\n            }\n            sibling = sibling.nextSibling;\n        }\n        return siblings;\n    }\n    /**\n   * Gets the immediately-next sibling which matches a selector.\n   *\n   * @param {string} selector (Optional) CSS selector to match, if any.\n   * @returns DQueryNode\n   */ next(selector) {\n        selector = selector || '';\n        let next = this.node.nextSibling;\n        while(next){\n            if (next.nodeType === Node.ELEMENT_NODE && (selector !== '' && next.matches(selector) || selector === '')) return new $d06b2385a2707aa5$var$DQueryNode(next);\n            next = next.nextSibling;\n        }\n        return null;\n    }\n    /**\n   * Gets the immediately-previous sibling which matches a selector.\n   *\n   * @param {string} selector (Optional) CSS selector to match, if any.\n   * @returns DQueryNode\n   */ prev(selector) {\n        selector = selector || '';\n        let prev = this.node.previousSibling;\n        while(prev){\n            if (prev.nodeType === Node.ELEMENT_NODE && (selector !== '' && prev.matches(selector) || selector === '')) return new $d06b2385a2707aa5$var$DQueryNode(prev);\n            prev = prev.previousSibling;\n        }\n        return null;\n    }\n    /**\n   * Prepends the provided element to the selected node, then returns a pointer\n   * to the prepended node in the DOM.\n   *\n   * @param {Element} element (Required) The DOM element to prepend.\n   * @returns DQueryNode\n   */ prepend(element) {\n        if (typeof element.dom !== 'undefined') this.node.insertAdjacentElement('afterbegin', element.dom());\n        else this.node.insertAdjacentElement('afterbegin', element);\n        return new $d06b2385a2707aa5$var$DQueryNode(this.node.childNodes[0]);\n    }\n    /**\n   * Appends the provided element to the selected node, then returns a pointer\n   * to the appended node in the DOM.\n   *\n   * @param {Element} element (Required) The DOM element to append.\n   * @returns DQueryNode\n   */ append(element) {\n        if ((typeof element).toLowerCase() === 'string') this.node.insertAdjacentHTML('beforeend', element);\n        else if (typeof element.dom !== 'undefined') this.node.insertAdjacentElement('beforeend', element.dom());\n        else this.node.insertAdjacentElement('beforeend', element);\n        return new $d06b2385a2707aa5$var$DQueryNode(this.node.childNodes[this.node.childNodes.length - 1]);\n    }\n    /**\n   * Inserts the provided element before the selected node, then returns a\n   * pointer to the added node in the DOM.\n   *\n   * @param {Element} element (Required) The DOM element to insert before.\n   * @returns DQueryNode\n   */ before(element) {\n        if (typeof element.dom !== 'undefined') this.node.before(element.dom());\n        else this.node.before(element);\n        return this.prev();\n    }\n    /**\n   * Inserts the provided element after the selected node, then returns a\n   * pointer to the added node in the DOM.\n   *\n   * @param {Element} element (Required) The DOM element to insert after.\n   * @returns DQueryNode\n   */ after(element) {\n        if (typeof element.dom !== 'undefined') this.node.after(element.dom());\n        else this.node.after(element);\n        return this.next();\n    }\n    /**\n   * Returns the list of classnames currently applied to the element.\n   *\n   * @returns DOMTokenList\n   */ classes() {\n        const node = this.node;\n        return node.classList;\n    }\n    /**\n   * Determines whether or not the element has the specified classname applied.\n   *\n   * @param {string} klass (Required) The classname to check on the element.\n   * @returns bool\n   */ has(klass) {\n        const node = this.node;\n        return node.classList.contains(klass);\n    }\n    /**\n   * Adds the specified classname to the element.\n   *\n   * @param {string} klass (Required) The classname to add to the element.\n   * @returns bool\n   */ add(klass) {\n        const node = this.node;\n        return node.classList.add(klass);\n    }\n    /**\n   * Removes the specified classname to the element.\n   *\n   * @param {string} klass (Required) The classname to remove from the element.\n   * @returns bool\n   */ remove(klass) {\n        const node = this.node;\n        return node.classList.remove(klass);\n    }\n    /**\n   * Replaces the specified classname on the element with another classname.\n   *\n   * @param {string} klass1 (Required) The classname to remove from the element.\n   * @param {string} klass2 (Required) The classname to add to the element.\n   * @returns bool\n   */ replace(klass1, klass2) {\n        const node = this.node;\n        return node.classList.replace(klass1, klass2);\n    }\n    /**\n   * Toggles a classname on the element. Returns a boolean value, `true` or\n   * `false`, indicating whether or not `klass` is in the list of classnames\n   * after the call or not.\n   *\n   * @param {string} klass (Required) The classname to toggle on the element.\n   * @returns bool\n   */ toggle(klass) {\n        const node = this.node;\n        return node.classList.toggle(klass);\n    }\n    /**\n   * A wrapper for addEventListener with `once: false`.\n   *\n   * @param {string} type A valid event type, like `click`. See\n   *     <https://developer.mozilla.org/en-US/docs/Web/Events> or more information.\n   * @param {string|function|Delegate} fn A callback function to execute, or a string\n   *     containing the name of the function.\n   * @returns EventPointer\n   */ on(type, fn) {\n        const node = this.node;\n        node.addEventListener(type, fn, {\n            once: false\n        });\n        return {\n            remove: function() {\n                node.removeEventListener(type, fn, {\n                    once: false\n                });\n            }\n        };\n    }\n}\nfunction $d06b2385a2707aa5$var$DQuery(selector, elem) {\n    // eslint-disable-line no-undef\n    if (selector instanceof Element) return new $d06b2385a2707aa5$var$DQueryNode(selector);\n    const collection = [];\n    elem = elem || document;\n    if (elem === document) {\n        document.querySelectorAll(selector).forEach((ee)=>{\n            collection.push(new $d06b2385a2707aa5$var$DQueryNode(ee));\n        });\n        return collection;\n    }\n    selector = [\n        ':scope',\n        selector\n    ].join(' ');\n    if (typeof elem[Symbol.iterator] !== 'function') elem = [\n        elem\n    ];\n    elem.forEach((e)=>{\n        e.querySelectorAll(selector).forEach((ee)=>{\n            collection.push(new $d06b2385a2707aa5$var$DQueryNode(ee));\n        });\n    });\n    return collection;\n}\nvar $d06b2385a2707aa5$export$2e2bcd8739ae039 = $d06b2385a2707aa5$var$DQuery;\n\n\nvar $2d9f69bafd62bfe5$exports = {};\n\n$parcel$defineInteropFlag($2d9f69bafd62bfe5$exports);\n\n$parcel$export($2d9f69bafd62bfe5$exports, \"default\", () => $2d9f69bafd62bfe5$export$2e2bcd8739ae039);\n/* Taken from https://github.com/brunoscopelliti/delegate under the MIT license.\n   Reversed the (selector, fn) parameters. */ /**\n * Assure that the provided function, `fn`, is executed only when its wrapping\n * function is called on a target that matches the `selector`.\n *\n * @name delegate\n * @param {string} selector\n * @param {function} fn\n *\n * @returns {function}\n */ const $2d9f69bafd62bfe5$var$Delegate = (selector, fn)=>function handler(event) {\n        const matchingEl = $2d9f69bafd62bfe5$var$matches(event.target, selector, this); // eslint-disable-line no-invalid-this\n        if (matchingEl !== null) fn.call(matchingEl, event);\n    }\n;\nvar $2d9f69bafd62bfe5$export$2e2bcd8739ae039 = $2d9f69bafd62bfe5$var$Delegate;\n/**\n * @name matches\n * @private\n */ const $2d9f69bafd62bfe5$var$matches = (target, selector, boundElement)=>{\n    if (target === boundElement) return null;\n    if (target.matches(selector)) return target;\n    if (target.parentNode) return $2d9f69bafd62bfe5$var$matches(target.parentNode, selector, boundElement);\n    return null;\n};\n\n\nvar $d0e0ac82cf77fdb6$exports = {};\n\n$parcel$defineInteropFlag($d0e0ac82cf77fdb6$exports);\n\n$parcel$export($d0e0ac82cf77fdb6$exports, \"default\", () => $d0e0ac82cf77fdb6$export$2e2bcd8739ae039);\nconst $d0e0ac82cf77fdb6$var$X = function(elem, attr) {\n    const self = this, RE_ID_OR_CLASS = /[\\.#]/u, RE_CSS_ATTRS = /\\[([^\\]]+)\\]/gu, ARR_NEXT = 1;\n    let key, k, match;\n    attr = attr || {\n    };\n    // Parse the CSS-style notation.\n    function notation() {\n        const att = {\n            class: [],\n            id: ''\n        }, kvPair = [];\n        if (!RE_ID_OR_CLASS.test(elem) && !RE_CSS_ATTRS.test(elem)) return {\n        };\n        // Collect all of the `[k=v]` blocks.\n        while((match = RE_CSS_ATTRS.exec(elem)) !== null)kvPair.push(match[1].split('='));\n        elem = elem.replace(RE_CSS_ATTRS, '');\n        const pieces = elem.split(RE_ID_OR_CLASS), elemType = pieces.shift();\n        kvPair.forEach((val, idx, arr)=>{\n            att[arr[idx][0]] = arr[idx][1];\n        });\n        // Support CSS/jQuery-style notation for generating elements with IDs and classnames.\n        let pos = elemType.length;\n        const classes = att['class'];\n        pieces.forEach((val, idx, arr)=>{\n            if (elem[pos] === '#') att.id = val;\n            else classes.push(val);\n            pos += arr[idx].length + ARR_NEXT;\n        });\n        att['class'] = classes;\n        if (!att['class'].length) delete att['class'];\n        if (att['id'] === '') delete att['id'];\n        return att;\n    }\n    // Merge options into a conglomo-hash!\n    attr = Object.assign(attr, notation());\n    // Construct the element, loop through the list of attributes and add them to the node.\n    if (RE_ID_OR_CLASS.test(elem)) self.e = document.createElement(elem.split(RE_ID_OR_CLASS).shift());\n    else self.e = document.createElement(elem);\n    if (attr) {\n        for(key in attr)if (Object.prototype.hasOwnProperty.call(attr, key)) {\n            if (typeof attr[key] === 'object' && typeof attr[key].length === 'number' && typeof attr[key].splice === 'function') attr[key] = attr[key].join(' ');\n            if (key.toString() === 'class') self.e.className = attr[key];\n            else if (key.toString() === 'data') {\n                for(k in attr[key])if (Object.prototype.hasOwnProperty.call(attr[key], k)) self.e.setAttribute(`data-${k}`, attr[key][k]);\n            } else self.e.setAttribute(key, attr[key]);\n        }\n    }\n    // Handle child nodes.\n    self._ = (obj)=>{\n        // If the object isn't an array, convert it to an array to maintain a single codepath below.\n        if (!Array.isArray(obj)) obj = [\n            obj\n        ];\n        /* Loop through the indexed array of children. If the node is a `VDOM` object, convert it to\n       DOM and append it. Otherwise, assume it's a real DOM node. */ for(let i = 0, max = obj.length; i < max; i++){\n            if (typeof obj[i] === 'undefined') break;\n            if (typeof obj[i].dom !== 'undefined') self.e.appendChild(obj[i].dom());\n            else self.e.appendChild(obj[i]);\n        }\n        return self;\n    };\n    // Set the HTML\n    self.h = (str, replace)=>{\n        // Determine the default value for `replace`.\n        replace = replace || false;\n        // Set the value with innerHTML.\n        if (replace) self.e.innerHTML = str;\n        else self.e.innerHTML += str;\n        return self;\n    };\n    // Set the text\n    self.t = (str)=>{\n        // No parameters? Read the value instead. Alias for __t().\n        if (typeof str === 'undefined') return self.__t();\n        // Set the value\n        const text = document.createTextNode(str);\n        self.e.appendChild(text);\n        return self;\n    };\n    // Get DOMElement\n    self.dom = ()=>self.e\n    ;\n    // Get as HTML\n    self.toString = ()=>{\n        const t = document.createElement('div');\n        t.appendChild(self.e);\n        return t.innerHTML;\n    };\n    // Get as text\n    self.__t = ()=>{\n        const t = document.createElement('div');\n        t.appendChild(self.e);\n        return t.textContent || t.innerText;\n    };\n    return self;\n}, // Pre-instantiate the class on each call so that you never need to use `new`.\n$d0e0ac82cf77fdb6$var$VDOM = (elem, attr)=>new $d0e0ac82cf77fdb6$var$X(elem, attr)\n; // eslint-disable-line no-undef\n$d0e0ac82cf77fdb6$var$VDOM.DOM = (...nodes)=>{\n    // Create a document fragment. Grab and loop through the in-memory DOM nodes, and _move_ them to the\n    const f = document.createDocumentFragment(), n = new $d0e0ac82cf77fdb6$var$X('div')._(nodes).dom().childNodes;\n    while(n.length)f.appendChild(n[0]);\n    return f;\n};\n$d0e0ac82cf77fdb6$var$VDOM.t = (str)=>document.createTextNode(str)\n; // eslint-disable-line no-undef\n$d0e0ac82cf77fdb6$var$VDOM.h = (str)=>{\n    const f = document.createDocumentFragment(), n = new $d0e0ac82cf77fdb6$var$X('div').h(str).dom().childNodes;\n    while(n.length)f.appendChild(n[0]);\n    return f;\n};\nvar $d0e0ac82cf77fdb6$export$2e2bcd8739ae039 = $d0e0ac82cf77fdb6$var$VDOM;\n\n\nconst $690703a408b303b8$export$a4ad2735b021c132 = '1.0.1';\n\n\n//# sourceMappingURL=index.js.map\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,data:application/json;charset=utf-8;base64,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QyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUduQixNQUFNLENBQUMsQ0FBQztBQUNWLENBQUM7SUFFRCx3Q0FBb0IsR0FBTCwwQkFBSTs7O0FIck1aLEtBQUssQ0FBQyx5Q0FBTyxHQUFHLENBQU8iLCJzb3VyY2VzIjpbInNyYy9pbmRleC5qcyIsInNyYy9kcXVlcnkuanMiLCJzcmMvZGVsZWdhdGUuanMiLCJzcmMvdmRvbS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRFF1ZXJ5IGZyb20gJy4vZHF1ZXJ5JzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuaW1wb3J0IERlbGVnYXRlIGZyb20gJy4vZGVsZWdhdGUnOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5pbXBvcnQgVkRPTSBmcm9tICcuL3Zkb20nOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cbmV4cG9ydCB7XG4gIERRdWVyeSxcbiAgRGVsZWdhdGUsXG4gIFZET00sXG59O1xuXG5leHBvcnQgY29uc3QgVkVSU0lPTiA9ICcxLjAuMSc7XG4iLCJjbGFzcyBEUXVlcnlOb2RlIHtcbiAgLyoqXG4gICAqIERRdWVyeU5vZGUgd3JhcHMgRE9NIEVsZW1lbnQgb2JqZWN0cyB3aXRoIGVuaGFuY2VkIGZ1bmN0aW9uYWxpdHkuXG4gICAqXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gbm9kZSBBIERPTSBFbGVtZW50IG9iamVjdCwgd2hpY2ggcmVwcmVzZW50cyBhbiBIVE1MIHRhZy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG5vZGUpIHtcbiAgICB0aGlzLm5vZGUgPSBub2RlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHVuZGVybHlpbmcgbmF0aXZlIERPTSBFbGVtZW50IG9iamVjdC5cbiAgICpcbiAgICogQHJldHVybnMgRWxlbWVudFxuICAgKi9cbiAgZ2V0KCkge1xuICAgIHJldHVybiB0aGlzLm5vZGU7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgbmVhcmVzdCBhbmNlc3RvciB3aGljaCBtYXRjaGVzIGEgc2VsZWN0b3IuIElmIG5vIHNlbGVjdG9yIGlzXG4gICAqIGdpdmVuLCByZXR1cm5zIHBhcmVudC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yIChPcHRpb25hbCkgQ1NTIHNlbGVjdG9yIHRvIG1hdGNoLCBpZiBhbnkuXG4gICAqIEByZXR1cm5zIERRdWVyeU5vZGVcbiAgICovXG4gIGFuY2VzdG9yKHNlbGVjdG9yKSB7XG4gICAgc2VsZWN0b3IgPSBzZWxlY3RvciB8fCAnJztcblxuICAgIGlmIChzZWxlY3RvciA9PT0gJycpIHtcbiAgICAgIHJldHVybiB0aGlzLnBhcmVudCgpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgRFF1ZXJ5Tm9kZSh0aGlzLm5vZGUuY2xvc2VzdChzZWxlY3RvcikpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGltbWVkaWF0ZSBwYXJlbnQgZWxlbWVudC5cbiAgICpcbiAgICogQHJldHVybnMgRFF1ZXJ5Tm9kZVxuICAgKi9cbiAgcGFyZW50KCkge1xuICAgIGlmICghdGhpcy5ub2RlLnBhcmVudE5vZGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgRFF1ZXJ5Tm9kZSh0aGlzLm5vZGUucGFyZW50Tm9kZSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyBhbGwgZGVzY2VuZGFudHMgd2hpY2ggbWF0Y2ggYSBzZWxlY3Rvci4gSWYgbm8gc2VsZWN0b3IgaXMgZ2l2ZW4sXG4gICAqIHJldHVybnMgY2hpbGRyZW4uXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvciAoT3B0aW9uYWwpIENTUyBzZWxlY3RvciB0byBtYXRjaCwgaWYgYW55LlxuICAgKiBAcmV0dXJucyBEUXVlcnlcbiAgICovXG4gIGRlc2NlbmRhbnRzKHNlbGVjdG9yKSB7XG4gICAgc2VsZWN0b3IgPSBzZWxlY3RvciB8fCAnJztcblxuICAgIGlmIChzZWxlY3RvciA9PT0gJycpIHtcbiAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBEUXVlcnkoc2VsZWN0b3IsIHRoaXMubm9kZSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGFsbCBpbW1lZGlhdGUgY2hpbGRyZW4gd2hpY2ggbWF0Y2ggYSBzZWxlY3Rvci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yIChPcHRpb25hbCkgQ1NTIHNlbGVjdG9yIHRvIG1hdGNoLCBpZiBhbnkuXG4gICAqIEByZXR1cm5zIFtdRFF1ZXJ5Tm9kZVxuICAgKi9cbiAgY2hpbGRyZW4oc2VsZWN0b3IpIHtcbiAgICBzZWxlY3RvciA9IHNlbGVjdG9yIHx8ICcnO1xuXG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5ub2RlLmNoaWxkTm9kZXMpLlxuICAgICAgZmlsdGVyKGUgPT4gZS5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUpLlxuICAgICAgZmlsdGVyKGUgPT4gKHNlbGVjdG9yICE9PSAnJyAmJiBlLm1hdGNoZXMoc2VsZWN0b3IpKSB8fCBzZWxlY3RvciA9PT0gJycpLlxuICAgICAgbWFwKGUgPT4gbmV3IERRdWVyeU5vZGUoZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYWxsIHNpYmxpbmcgZWxlbWVudHMgb2YgdGhlIGltbWVkaWF0ZSBwYXJlbnQgd2hpY2ggbWF0Y2ggYSBzZWxlY3Rvci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yIChPcHRpb25hbCkgQ1NTIHNlbGVjdG9yIHRvIG1hdGNoLCBpZiBhbnkuXG4gICAqIEByZXR1cm5zIFtdRFF1ZXJ5Tm9kZVxuICAgKi9cbiAgc2libGluZ3Moc2VsZWN0b3IpIHtcbiAgICBzZWxlY3RvciA9IHNlbGVjdG9yIHx8ICcnO1xuXG4gICAgaWYgKCF0aGlzLm5vZGUucGFyZW50Tm9kZSkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIGxldCBzaWJsaW5nID0gdGhpcy5ub2RlLnBhcmVudE5vZGUuZmlyc3RDaGlsZDtcbiAgICBjb25zdCBzaWJsaW5ncyA9IFtdO1xuXG4gICAgd2hpbGUgKHNpYmxpbmcpIHtcbiAgICAgIGlmIChzaWJsaW5nICE9PSB0aGlzLm5vZGUpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHNpYmxpbmcubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFXG4gICAgICAgICAgJiYgKChzZWxlY3RvciAhPT0gJycgJiYgc2libGluZy5tYXRjaGVzKHNlbGVjdG9yKSkgfHwgc2VsZWN0b3IgPT09ICcnKVxuICAgICAgICApIHtcbiAgICAgICAgICBzaWJsaW5ncy5wdXNoKG5ldyBEUXVlcnlOb2RlKHNpYmxpbmcpKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzaWJsaW5nID0gc2libGluZy5uZXh0U2libGluZztcbiAgICB9XG5cbiAgICByZXR1cm4gc2libGluZ3M7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgaW1tZWRpYXRlbHktbmV4dCBzaWJsaW5nIHdoaWNoIG1hdGNoZXMgYSBzZWxlY3Rvci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yIChPcHRpb25hbCkgQ1NTIHNlbGVjdG9yIHRvIG1hdGNoLCBpZiBhbnkuXG4gICAqIEByZXR1cm5zIERRdWVyeU5vZGVcbiAgICovXG4gIG5leHQoc2VsZWN0b3IpIHtcbiAgICBzZWxlY3RvciA9IHNlbGVjdG9yIHx8ICcnO1xuICAgIGxldCBuZXh0ID0gdGhpcy5ub2RlLm5leHRTaWJsaW5nO1xuXG4gICAgd2hpbGUgKG5leHQpIHtcbiAgICAgIGlmIChuZXh0Lm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSAmJiAoKHNlbGVjdG9yICE9PSAnJyAmJiBuZXh0Lm1hdGNoZXMoc2VsZWN0b3IpKSB8fCBzZWxlY3RvciA9PT0gJycpKSB7XG4gICAgICAgIHJldHVybiBuZXcgRFF1ZXJ5Tm9kZShuZXh0KTtcbiAgICAgIH1cblxuICAgICAgbmV4dCA9IG5leHQubmV4dFNpYmxpbmc7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgaW1tZWRpYXRlbHktcHJldmlvdXMgc2libGluZyB3aGljaCBtYXRjaGVzIGEgc2VsZWN0b3IuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvciAoT3B0aW9uYWwpIENTUyBzZWxlY3RvciB0byBtYXRjaCwgaWYgYW55LlxuICAgKiBAcmV0dXJucyBEUXVlcnlOb2RlXG4gICAqL1xuICBwcmV2KHNlbGVjdG9yKSB7XG4gICAgc2VsZWN0b3IgPSBzZWxlY3RvciB8fCAnJztcbiAgICBsZXQgcHJldiA9IHRoaXMubm9kZS5wcmV2aW91c1NpYmxpbmc7XG5cbiAgICB3aGlsZSAocHJldikge1xuICAgICAgaWYgKHByZXYubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFICYmICgoc2VsZWN0b3IgIT09ICcnICYmIHByZXYubWF0Y2hlcyhzZWxlY3RvcikpIHx8IHNlbGVjdG9yID09PSAnJykpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEUXVlcnlOb2RlKHByZXYpO1xuICAgICAgfVxuXG4gICAgICBwcmV2ID0gcHJldi5wcmV2aW91c1NpYmxpbmc7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogUHJlcGVuZHMgdGhlIHByb3ZpZGVkIGVsZW1lbnQgdG8gdGhlIHNlbGVjdGVkIG5vZGUsIHRoZW4gcmV0dXJucyBhIHBvaW50ZXJcbiAgICogdG8gdGhlIHByZXBlbmRlZCBub2RlIGluIHRoZSBET00uXG4gICAqXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAoUmVxdWlyZWQpIFRoZSBET00gZWxlbWVudCB0byBwcmVwZW5kLlxuICAgKiBAcmV0dXJucyBEUXVlcnlOb2RlXG4gICAqL1xuICBwcmVwZW5kKGVsZW1lbnQpIHtcbiAgICBpZiAodHlwZW9mIGVsZW1lbnQuZG9tICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5ub2RlLmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJiZWdpbicsIGVsZW1lbnQuZG9tKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm5vZGUuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdhZnRlcmJlZ2luJywgZWxlbWVudCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBEUXVlcnlOb2RlKHRoaXMubm9kZS5jaGlsZE5vZGVzWzBdKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBlbmRzIHRoZSBwcm92aWRlZCBlbGVtZW50IHRvIHRoZSBzZWxlY3RlZCBub2RlLCB0aGVuIHJldHVybnMgYSBwb2ludGVyXG4gICAqIHRvIHRoZSBhcHBlbmRlZCBub2RlIGluIHRoZSBET00uXG4gICAqXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAoUmVxdWlyZWQpIFRoZSBET00gZWxlbWVudCB0byBhcHBlbmQuXG4gICAqIEByZXR1cm5zIERRdWVyeU5vZGVcbiAgICovXG4gIGFwcGVuZChlbGVtZW50KSB7XG4gICAgaWYgKCh0eXBlb2YgZWxlbWVudCkudG9Mb3dlckNhc2UoKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMubm9kZS5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGVsZW1lbnQpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGVsZW1lbnQuZG9tICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5ub2RlLmluc2VydEFkamFjZW50RWxlbWVudCgnYmVmb3JlZW5kJywgZWxlbWVudC5kb20oKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubm9kZS5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2JlZm9yZWVuZCcsIGVsZW1lbnQpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgRFF1ZXJ5Tm9kZSh0aGlzLm5vZGUuY2hpbGROb2Rlc1t0aGlzLm5vZGUuY2hpbGROb2Rlcy5sZW5ndGggLSAxXSk7XG4gIH1cblxuICAvKipcbiAgICogSW5zZXJ0cyB0aGUgcHJvdmlkZWQgZWxlbWVudCBiZWZvcmUgdGhlIHNlbGVjdGVkIG5vZGUsIHRoZW4gcmV0dXJucyBhXG4gICAqIHBvaW50ZXIgdG8gdGhlIGFkZGVkIG5vZGUgaW4gdGhlIERPTS5cbiAgICpcbiAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IChSZXF1aXJlZCkgVGhlIERPTSBlbGVtZW50IHRvIGluc2VydCBiZWZvcmUuXG4gICAqIEByZXR1cm5zIERRdWVyeU5vZGVcbiAgICovXG4gIGJlZm9yZShlbGVtZW50KSB7XG4gICAgaWYgKHR5cGVvZiBlbGVtZW50LmRvbSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMubm9kZS5iZWZvcmUoZWxlbWVudC5kb20oKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubm9kZS5iZWZvcmUoZWxlbWVudCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMucHJldigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluc2VydHMgdGhlIHByb3ZpZGVkIGVsZW1lbnQgYWZ0ZXIgdGhlIHNlbGVjdGVkIG5vZGUsIHRoZW4gcmV0dXJucyBhXG4gICAqIHBvaW50ZXIgdG8gdGhlIGFkZGVkIG5vZGUgaW4gdGhlIERPTS5cbiAgICpcbiAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IChSZXF1aXJlZCkgVGhlIERPTSBlbGVtZW50IHRvIGluc2VydCBhZnRlci5cbiAgICogQHJldHVybnMgRFF1ZXJ5Tm9kZVxuICAgKi9cbiAgYWZ0ZXIoZWxlbWVudCkge1xuICAgIGlmICh0eXBlb2YgZWxlbWVudC5kb20gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLm5vZGUuYWZ0ZXIoZWxlbWVudC5kb20oKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubm9kZS5hZnRlcihlbGVtZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5uZXh0KCk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbGlzdCBvZiBjbGFzc25hbWVzIGN1cnJlbnRseSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50LlxuICAgKlxuICAgKiBAcmV0dXJucyBET01Ub2tlbkxpc3RcbiAgICovXG4gIGNsYXNzZXMoKSB7XG4gICAgY29uc3Qgbm9kZSA9IHRoaXMubm9kZTtcblxuICAgIHJldHVybiBub2RlLmNsYXNzTGlzdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgb3Igbm90IHRoZSBlbGVtZW50IGhhcyB0aGUgc3BlY2lmaWVkIGNsYXNzbmFtZSBhcHBsaWVkLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2xhc3MgKFJlcXVpcmVkKSBUaGUgY2xhc3NuYW1lIHRvIGNoZWNrIG9uIHRoZSBlbGVtZW50LlxuICAgKiBAcmV0dXJucyBib29sXG4gICAqL1xuICBoYXMoa2xhc3MpIHtcbiAgICBjb25zdCBub2RlID0gdGhpcy5ub2RlO1xuXG4gICAgcmV0dXJuIG5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKGtsYXNzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIHRoZSBzcGVjaWZpZWQgY2xhc3NuYW1lIHRvIHRoZSBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2xhc3MgKFJlcXVpcmVkKSBUaGUgY2xhc3NuYW1lIHRvIGFkZCB0byB0aGUgZWxlbWVudC5cbiAgICogQHJldHVybnMgYm9vbFxuICAgKi9cbiAgYWRkKGtsYXNzKSB7XG4gICAgY29uc3Qgbm9kZSA9IHRoaXMubm9kZTtcblxuICAgIHJldHVybiBub2RlLmNsYXNzTGlzdC5hZGQoa2xhc3MpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgdGhlIHNwZWNpZmllZCBjbGFzc25hbWUgdG8gdGhlIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrbGFzcyAoUmVxdWlyZWQpIFRoZSBjbGFzc25hbWUgdG8gcmVtb3ZlIGZyb20gdGhlIGVsZW1lbnQuXG4gICAqIEByZXR1cm5zIGJvb2xcbiAgICovXG4gIHJlbW92ZShrbGFzcykge1xuICAgIGNvbnN0IG5vZGUgPSB0aGlzLm5vZGU7XG5cbiAgICByZXR1cm4gbm9kZS5jbGFzc0xpc3QucmVtb3ZlKGtsYXNzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXBsYWNlcyB0aGUgc3BlY2lmaWVkIGNsYXNzbmFtZSBvbiB0aGUgZWxlbWVudCB3aXRoIGFub3RoZXIgY2xhc3NuYW1lLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2xhc3MxIChSZXF1aXJlZCkgVGhlIGNsYXNzbmFtZSB0byByZW1vdmUgZnJvbSB0aGUgZWxlbWVudC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtsYXNzMiAoUmVxdWlyZWQpIFRoZSBjbGFzc25hbWUgdG8gYWRkIHRvIHRoZSBlbGVtZW50LlxuICAgKiBAcmV0dXJucyBib29sXG4gICAqL1xuICByZXBsYWNlKGtsYXNzMSwga2xhc3MyKSB7XG4gICAgY29uc3Qgbm9kZSA9IHRoaXMubm9kZTtcblxuICAgIHJldHVybiBub2RlLmNsYXNzTGlzdC5yZXBsYWNlKGtsYXNzMSwga2xhc3MyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUb2dnbGVzIGEgY2xhc3NuYW1lIG9uIHRoZSBlbGVtZW50LiBSZXR1cm5zIGEgYm9vbGVhbiB2YWx1ZSwgYHRydWVgIG9yXG4gICAqIGBmYWxzZWAsIGluZGljYXRpbmcgd2hldGhlciBvciBub3QgYGtsYXNzYCBpcyBpbiB0aGUgbGlzdCBvZiBjbGFzc25hbWVzXG4gICAqIGFmdGVyIHRoZSBjYWxsIG9yIG5vdC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtsYXNzIChSZXF1aXJlZCkgVGhlIGNsYXNzbmFtZSB0byB0b2dnbGUgb24gdGhlIGVsZW1lbnQuXG4gICAqIEByZXR1cm5zIGJvb2xcbiAgICovXG4gIHRvZ2dsZShrbGFzcykge1xuICAgIGNvbnN0IG5vZGUgPSB0aGlzLm5vZGU7XG5cbiAgICByZXR1cm4gbm9kZS5jbGFzc0xpc3QudG9nZ2xlKGtsYXNzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHdyYXBwZXIgZm9yIGFkZEV2ZW50TGlzdGVuZXIgd2l0aCBgb25jZTogZmFsc2VgLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBBIHZhbGlkIGV2ZW50IHR5cGUsIGxpa2UgYGNsaWNrYC4gU2VlXG4gICAqICAgICA8aHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvRXZlbnRzPiBvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgKiBAcGFyYW0ge3N0cmluZ3xmdW5jdGlvbnxEZWxlZ2F0ZX0gZm4gQSBjYWxsYmFjayBmdW5jdGlvbiB0byBleGVjdXRlLCBvciBhIHN0cmluZ1xuICAgKiAgICAgY29udGFpbmluZyB0aGUgbmFtZSBvZiB0aGUgZnVuY3Rpb24uXG4gICAqIEByZXR1cm5zIEV2ZW50UG9pbnRlclxuICAgKi9cbiAgb24odHlwZSwgZm4pIHtcbiAgICBjb25zdCBub2RlID0gdGhpcy5ub2RlO1xuXG4gICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGZuLCB7b25jZTogZmFsc2V9KTtcblxuICAgIHJldHVybiB7XG4gICAgICByZW1vdmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgZm4sIHtvbmNlOiBmYWxzZX0pO1xuICAgICAgfSxcbiAgICB9O1xuICB9XG59XG5cbmZ1bmN0aW9uIERRdWVyeShzZWxlY3RvciwgZWxlbSkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG4gIGlmIChzZWxlY3RvciBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICByZXR1cm4gbmV3IERRdWVyeU5vZGUoc2VsZWN0b3IpO1xuICB9XG5cbiAgY29uc3QgY29sbGVjdGlvbiA9IFtdO1xuXG4gIGVsZW0gPSBlbGVtIHx8IGRvY3VtZW50O1xuICBpZiAoZWxlbSA9PT0gZG9jdW1lbnQpIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKS5mb3JFYWNoKChlZSkgPT4ge1xuICAgICAgY29sbGVjdGlvbi5wdXNoKG5ldyBEUXVlcnlOb2RlKGVlKSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgfVxuXG4gIHNlbGVjdG9yID0gWyc6c2NvcGUnLCBzZWxlY3Rvcl0uam9pbignICcpO1xuXG4gIGlmICh0eXBlb2YgZWxlbVtTeW1ib2wuaXRlcmF0b3JdICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgZWxlbSA9IFtlbGVtXTtcbiAgfVxuXG4gIGVsZW0uZm9yRWFjaCgoZSkgPT4ge1xuICAgIGUucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikuZm9yRWFjaCgoZWUpID0+IHtcbiAgICAgIGNvbGxlY3Rpb24ucHVzaChuZXcgRFF1ZXJ5Tm9kZShlZSkpO1xuICAgIH0pO1xuICB9KTtcblxuICByZXR1cm4gY29sbGVjdGlvbjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgRFF1ZXJ5O1xuIiwiLyogVGFrZW4gZnJvbSBodHRwczovL2dpdGh1Yi5jb20vYnJ1bm9zY29wZWxsaXRpL2RlbGVnYXRlIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAgIFJldmVyc2VkIHRoZSAoc2VsZWN0b3IsIGZuKSBwYXJhbWV0ZXJzLiAqL1xuXG4vKipcbiAqIEFzc3VyZSB0aGF0IHRoZSBwcm92aWRlZCBmdW5jdGlvbiwgYGZuYCwgaXMgZXhlY3V0ZWQgb25seSB3aGVuIGl0cyB3cmFwcGluZ1xuICogZnVuY3Rpb24gaXMgY2FsbGVkIG9uIGEgdGFyZ2V0IHRoYXQgbWF0Y2hlcyB0aGUgYHNlbGVjdG9yYC5cbiAqXG4gKiBAbmFtZSBkZWxlZ2F0ZVxuICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBmblxuICpcbiAqIEByZXR1cm5zIHtmdW5jdGlvbn1cbiAqL1xuY29uc3QgRGVsZWdhdGUgPSAoc2VsZWN0b3IsIGZuKSA9PiBmdW5jdGlvbiBoYW5kbGVyKGV2ZW50KSB7XG4gIGNvbnN0IG1hdGNoaW5nRWwgPSBtYXRjaGVzKGV2ZW50LnRhcmdldCwgc2VsZWN0b3IsIHRoaXMpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWludmFsaWQtdGhpc1xuXG4gIGlmIChtYXRjaGluZ0VsICE9PSBudWxsKSB7XG4gICAgZm4uY2FsbChtYXRjaGluZ0VsLCBldmVudCk7XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IERlbGVnYXRlO1xuXG4vKipcbiAqIEBuYW1lIG1hdGNoZXNcbiAqIEBwcml2YXRlXG4gKi9cbmNvbnN0IG1hdGNoZXMgPSAodGFyZ2V0LCBzZWxlY3RvciwgYm91bmRFbGVtZW50KSA9PiB7XG4gIGlmICh0YXJnZXQgPT09IGJvdW5kRWxlbWVudCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKHRhcmdldC5tYXRjaGVzKHNlbGVjdG9yKSkge1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICBpZiAodGFyZ2V0LnBhcmVudE5vZGUpIHtcbiAgICByZXR1cm4gbWF0Y2hlcyh0YXJnZXQucGFyZW50Tm9kZSwgc2VsZWN0b3IsIGJvdW5kRWxlbWVudCk7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn07XG4iLCJjb25zdCBYID0gZnVuY3Rpb24oZWxlbSwgYXR0cikge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzLFxuICAgICAgUkVfSURfT1JfQ0xBU1MgPSAvW1xcLiNdL3UsIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdXNlbGVzcy1lc2NhcGVcbiAgICAgIFJFX0NTU19BVFRSUyA9IC9cXFsoW15cXF1dKylcXF0vZ3UsXG4gICAgICBBUlJfTkVYVCA9IDE7XG5cbiAgICBsZXQga2V5LCBrLCBtYXRjaDtcblxuICAgIGF0dHIgPSBhdHRyIHx8IHt9O1xuXG4gICAgLy8gUGFyc2UgdGhlIENTUy1zdHlsZSBub3RhdGlvbi5cbiAgICBmdW5jdGlvbiBub3RhdGlvbigpIHtcbiAgICAgIGNvbnN0IGF0dCA9IHtcbiAgICAgICAgICBjbGFzczogW10sXG4gICAgICAgICAgaWQ6ICcnLFxuICAgICAgICB9LFxuICAgICAgICBrdlBhaXIgPSBbXTtcblxuICAgICAgaWYgKCFSRV9JRF9PUl9DTEFTUy50ZXN0KGVsZW0pICYmICFSRV9DU1NfQVRUUlMudGVzdChlbGVtKSkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG5cbiAgICAgIC8vIENvbGxlY3QgYWxsIG9mIHRoZSBgW2s9dl1gIGJsb2Nrcy5cbiAgICAgIHdoaWxlICgobWF0Y2ggPSBSRV9DU1NfQVRUUlMuZXhlYyhlbGVtKSkgIT09IG51bGwpIHtcbiAgICAgICAga3ZQYWlyLnB1c2gobWF0Y2hbMV0uc3BsaXQoJz0nKSk7XG4gICAgICB9XG5cbiAgICAgIGVsZW0gPSBlbGVtLnJlcGxhY2UoUkVfQ1NTX0FUVFJTLCAnJyk7XG4gICAgICBjb25zdCBwaWVjZXMgPSBlbGVtLnNwbGl0KFJFX0lEX09SX0NMQVNTKSxcbiAgICAgICAgZWxlbVR5cGUgPSBwaWVjZXMuc2hpZnQoKTtcblxuICAgICAga3ZQYWlyLmZvckVhY2goKHZhbCwgaWR4LCBhcnIpID0+IHtcbiAgICAgICAgYXR0W2FycltpZHhdWzBdXSA9IGFycltpZHhdWzFdO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFN1cHBvcnQgQ1NTL2pRdWVyeS1zdHlsZSBub3RhdGlvbiBmb3IgZ2VuZXJhdGluZyBlbGVtZW50cyB3aXRoIElEcyBhbmQgY2xhc3NuYW1lcy5cbiAgICAgIGxldCBwb3MgPSBlbGVtVHlwZS5sZW5ndGg7XG4gICAgICBjb25zdCBjbGFzc2VzID0gYXR0WydjbGFzcyddO1xuXG4gICAgICBwaWVjZXMuZm9yRWFjaCgodmFsLCBpZHgsIGFycikgPT4ge1xuICAgICAgICBpZiAoZWxlbVtwb3NdID09PSAnIycpIHtcbiAgICAgICAgICBhdHQuaWQgPSB2YWw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2xhc3Nlcy5wdXNoKHZhbCk7XG4gICAgICAgIH1cblxuICAgICAgICBwb3MgKz0gYXJyW2lkeF0ubGVuZ3RoICsgQVJSX05FWFQ7XG4gICAgICB9KTtcblxuICAgICAgYXR0WydjbGFzcyddID0gY2xhc3NlcztcbiAgICAgIGlmICghYXR0WydjbGFzcyddLmxlbmd0aCkge1xuICAgICAgICBkZWxldGUgYXR0WydjbGFzcyddO1xuICAgICAgfVxuXG4gICAgICBpZiAoYXR0WydpZCddID09PSAnJykge1xuICAgICAgICBkZWxldGUgYXR0WydpZCddO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYXR0O1xuICAgIH1cblxuICAgIC8vIE1lcmdlIG9wdGlvbnMgaW50byBhIGNvbmdsb21vLWhhc2ghXG4gICAgYXR0ciA9IE9iamVjdC5hc3NpZ24oYXR0ciwgbm90YXRpb24oKSk7XG5cbiAgICAvLyBDb25zdHJ1Y3QgdGhlIGVsZW1lbnQsIGxvb3AgdGhyb3VnaCB0aGUgbGlzdCBvZiBhdHRyaWJ1dGVzIGFuZCBhZGQgdGhlbSB0byB0aGUgbm9kZS5cbiAgICBpZiAoUkVfSURfT1JfQ0xBU1MudGVzdChlbGVtKSkge1xuICAgICAgc2VsZi5lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChlbGVtLnNwbGl0KFJFX0lEX09SX0NMQVNTKS5zaGlmdCgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZi5lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChlbGVtKTtcbiAgICB9XG5cbiAgICBpZiAoYXR0cikge1xuICAgICAgZm9yIChrZXkgaW4gYXR0cikge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGF0dHIsIGtleSkpIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB0eXBlb2YgYXR0cltrZXldID09PSAnb2JqZWN0J1xuICAgICAgICAgICYmIHR5cGVvZiBhdHRyW2tleV0ubGVuZ3RoID09PSAnbnVtYmVyJ1xuICAgICAgICAgICYmIHR5cGVvZiBhdHRyW2tleV0uc3BsaWNlID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBhdHRyW2tleV0gPSBhdHRyW2tleV0uam9pbignICcpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChrZXkudG9TdHJpbmcoKSA9PT0gJ2NsYXNzJykge1xuICAgICAgICAgICAgc2VsZi5lLmNsYXNzTmFtZSA9IGF0dHJba2V5XTtcblxuICAgICAgICAgIC8vIFN1cHBvcnQgYGRhdGE6IHt9YCBmb3IgZGF0YSBhdHRyaWJ1dGVzXG4gICAgICAgICAgfSBlbHNlIGlmIChrZXkudG9TdHJpbmcoKSA9PT0gJ2RhdGEnKSB7XG4gICAgICAgICAgICBmb3IgKGsgaW4gYXR0cltrZXldKSB7XG4gICAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXR0cltrZXldLCBrKSkge1xuICAgICAgICAgICAgICAgIHNlbGYuZS5zZXRBdHRyaWJ1dGUoYGRhdGEtJHsgayB9YCwgYXR0cltrZXldW2tdKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZWxmLmUuc2V0QXR0cmlidXRlKGtleSwgYXR0cltrZXldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgY2hpbGQgbm9kZXMuXG4gICAgc2VsZi5fID0gKG9iaikgPT4ge1xuICAgIC8vIElmIHRoZSBvYmplY3QgaXNuJ3QgYW4gYXJyYXksIGNvbnZlcnQgaXQgdG8gYW4gYXJyYXkgdG8gbWFpbnRhaW4gYSBzaW5nbGUgY29kZXBhdGggYmVsb3cuXG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgICBvYmogPSBbb2JqXTtcbiAgICAgIH1cblxuICAgICAgLyogTG9vcCB0aHJvdWdoIHRoZSBpbmRleGVkIGFycmF5IG9mIGNoaWxkcmVuLiBJZiB0aGUgbm9kZSBpcyBhIGBWRE9NYCBvYmplY3QsIGNvbnZlcnQgaXQgdG9cbiAgICAgICBET00gYW5kIGFwcGVuZCBpdC4gT3RoZXJ3aXNlLCBhc3N1bWUgaXQncyBhIHJlYWwgRE9NIG5vZGUuICovXG4gICAgICBmb3IgKGxldCBpID0gMCwgbWF4ID0gb2JqLmxlbmd0aDsgaSA8IG1heDsgaSArKykge1xuICAgICAgICBpZiAodHlwZW9mIG9ialtpXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2Ygb2JqW2ldLmRvbSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBzZWxmLmUuYXBwZW5kQ2hpbGQob2JqW2ldLmRvbSgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLmUuYXBwZW5kQ2hpbGQob2JqW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9O1xuXG4gICAgLy8gU2V0IHRoZSBIVE1MXG4gICAgc2VsZi5oID0gKHN0ciwgcmVwbGFjZSkgPT4ge1xuICAgIC8vIERldGVybWluZSB0aGUgZGVmYXVsdCB2YWx1ZSBmb3IgYHJlcGxhY2VgLlxuICAgICAgcmVwbGFjZSA9IHJlcGxhY2UgfHwgZmFsc2U7XG5cbiAgICAgIC8vIFNldCB0aGUgdmFsdWUgd2l0aCBpbm5lckhUTUwuXG4gICAgICBpZiAocmVwbGFjZSkge1xuICAgICAgICBzZWxmLmUuaW5uZXJIVE1MID0gc3RyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZi5lLmlubmVySFRNTCArPSBzdHI7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH07XG5cbiAgICAvLyBTZXQgdGhlIHRleHRcbiAgICBzZWxmLnQgPSAoc3RyKSA9PiB7XG4gICAgLy8gTm8gcGFyYW1ldGVycz8gUmVhZCB0aGUgdmFsdWUgaW5zdGVhZC4gQWxpYXMgZm9yIF9fdCgpLlxuICAgICAgaWYgKHR5cGVvZiBzdHIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBzZWxmLl9fdCgpO1xuICAgICAgfVxuXG4gICAgICAvLyBTZXQgdGhlIHZhbHVlXG4gICAgICBjb25zdCB0ZXh0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoc3RyKTtcblxuICAgICAgc2VsZi5lLmFwcGVuZENoaWxkKHRleHQpO1xuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9O1xuXG4gICAgLy8gR2V0IERPTUVsZW1lbnRcbiAgICBzZWxmLmRvbSA9ICgpID0+IHNlbGYuZTtcblxuICAgIC8vIEdldCBhcyBIVE1MXG4gICAgc2VsZi50b1N0cmluZyA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICAgdC5hcHBlbmRDaGlsZChzZWxmLmUpO1xuXG4gICAgICByZXR1cm4gdC5pbm5lckhUTUw7XG4gICAgfTtcblxuICAgIC8vIEdldCBhcyB0ZXh0XG4gICAgc2VsZi5fX3QgPSAoKSA9PiB7XG4gICAgICBjb25zdCB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICAgIHQuYXBwZW5kQ2hpbGQoc2VsZi5lKTtcblxuICAgICAgcmV0dXJuIHQudGV4dENvbnRlbnQgfHwgdC5pbm5lclRleHQ7XG4gICAgfTtcblxuICAgIHJldHVybiBzZWxmO1xuICB9LFxuXG4gIC8vIFByZS1pbnN0YW50aWF0ZSB0aGUgY2xhc3Mgb24gZWFjaCBjYWxsIHNvIHRoYXQgeW91IG5ldmVyIG5lZWQgdG8gdXNlIGBuZXdgLlxuICBWRE9NID0gKGVsZW0sIGF0dHIpID0+IG5ldyBYKGVsZW0sIGF0dHIpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cblZET00uRE9NID0gKC4uLm5vZGVzKSA9PiB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcbiAgLy8gQ3JlYXRlIGEgZG9jdW1lbnQgZnJhZ21lbnQuIEdyYWIgYW5kIGxvb3AgdGhyb3VnaCB0aGUgaW4tbWVtb3J5IERPTSBub2RlcywgYW5kIF9tb3ZlXyB0aGVtIHRvIHRoZVxuICBjb25zdCBmID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxuICAgIG4gPSBuZXcgWCgnZGl2JykuXyhub2RlcykuXG4gICAgICBkb20oKS5jaGlsZE5vZGVzO1xuXG4gIHdoaWxlIChuLmxlbmd0aCkge1xuICAgIGYuYXBwZW5kQ2hpbGQoblswXSk7XG4gIH1cblxuICByZXR1cm4gZjtcbn07XG5cblZET00udCA9IHN0ciA9PiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShzdHIpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cblZET00uaCA9IChzdHIpID0+IHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuICBjb25zdCBmID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxuICAgIG4gPSBuZXcgWCgnZGl2JykuaChzdHIpLlxuICAgICAgZG9tKCkuY2hpbGROb2RlcztcblxuICB3aGlsZSAobi5sZW5ndGgpIHtcbiAgICBmLmFwcGVuZENoaWxkKG5bMF0pO1xuICB9XG5cbiAgcmV0dXJuIGY7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBWRE9NO1xuIl0sIm5hbWVzIjpbXSwidmVyc2lvbiI6MywiZmlsZSI6Ii4vZGlzdC9pbmRleC5qcy5tYXAifQ=="],"names":[],"version":3,"file":"index.js.map","sourceRoot":"../"}